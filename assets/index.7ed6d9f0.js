var w=Object.defineProperty,T=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var E=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&E(e,n,t[n]);if(v)for(var n of v(t))L.call(t,n)&&E(e,n,t[n]);return e},m=(e,t)=>T(e,O(t));var C=(e,t)=>{var n={};for(var s in e)j.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&v)for(var s of v(e))t.indexOf(s)<0&&L.call(e,s)&&(n[s]=e[s]);return n};import{j as jsx,L as Link,o as omit_1,a as Link$1,g as gql,u as useQuery,r as react,b as jsxs,T as Text,F as Flex,B as Button,M as ModalContent,c as ModalHeader,d as ModalCloseButton,e as ModalBody,f as ModalFooter,h as Box,H as Heading,i as HStack,D as Divider,k as useDisclosure,l as useOutsideClick,m as Tooltip,n as useParams,I as IconButton,p as BiLayerPlus,q as makeVar,s as strip,t as pMap,v as useReactiveVar,w as update,x as chakra,R as ReactMarkdown,S as SyntaxHighlighter,y as BsJournals,V as VStack,z as useHistory,A as Accordion,C as AccordionItem,E as AccordionButton,G as AccordionIcon,J as AccordionPanel,K as MinusOutlined,N as CheckCircleOutlined,O as CloseCircleOutlined,P as Fragment,Q as prism,U as defaultTheme,W as SettingOutlined,X as Modal,Y as ModalOverlay,Z as Formik,_ as React,$ as AllHallowsEveTheme,a0 as index$2,a1 as Grid,a2 as GridItem,a3 as BrowserRouter,a4 as Switch,a5 as Route,a6 as extendTheme,a7 as ApolloClient,a8 as InMemoryCache,a9 as ReactDOM,aa as ApolloProvider,ab as ChakraProvider}from"./vendor.50123e3d.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};p();const layoutStyles={bgColor:"black",h:"100vh"},isExternalURL=e=>{if(typeof location=="undefined")return!0;const t=function(n){return n.replace("http://","").replace("https://","").split("/")[0]};return t(location.href)!==t(e)},FlLink=s=>{var o=s,{href:e,underline:t}=o,n=C(o,["href","underline"]);return e?isExternalURL(e)?jsx(Link,u({href:e},n)):jsx(Link$1,{to:e,children:jsx(Link,u({},n))}):jsx(Link,u({as:"button",textDecoration:t&&"underline",href:e},omit_1(n,"ref")))},NavbarLink=e=>jsx(FlLink,u({color:"white"},e)),mainNavbarHeight=65,lessonMenuHeight=0;function rem(e){return`${e}px`}const defaultOptions={};var Enum_Componentchallengechallenge_Difficulty;(function(e){e.Easy="easy",e.ExtraHard="extraHard",e.Hard="hard",e.Medium="medium"})(Enum_Componentchallengechallenge_Difficulty||(Enum_Componentchallengechallenge_Difficulty={}));var Enum_Componentexternalresourceexternalresource_Type;(function(e){e.Text="text",e.Video="video"})(Enum_Componentexternalresourceexternalresource_Type||(Enum_Componentexternalresourceexternalresource_Type={}));var Enum_Componentsublessonchallengechallenge_Minimumchallengefrequency;(function(e){e.High="high",e.Low="low",e.Medium="medium"})(Enum_Componentsublessonchallengechallenge_Minimumchallengefrequency||(Enum_Componentsublessonchallengechallenge_Minimumchallengefrequency={}));var PublicationState;(function(e){e.Live="LIVE",e.Preview="PREVIEW"})(PublicationState||(PublicationState={}));const ChallengeHintFragmentDoc=gql`
    fragment challengeHint on ComponentChallengeHint {
  text
  recommendedTimeBeforeViewing
}
    `,CodeChallengeDataFragmentDoc=gql`
    fragment codeChallengeData on CodeChallenge {
  id
  tests {
    internalTest
    label
  }
  hints {
    ...challengeHint
  }
  getStartingCodeFromPreviousChallenge
  challengeMeta {
    difficulty
  }
  startingCode
  prompt
}
    ${ChallengeHintFragmentDoc}`,MultipleChoiceChallengeDataFragmentDoc=gql`
    fragment multipleChoiceChallengeData on MultipleChoiceChallenge {
  id
  prompt
  options {
    text
    isCorrect
    incorrectChoiceExplanation
  }
  canSelectMultipleOptions
  useMarkdownForOptionsText
}
    `,LessonSidebarDataFragmentDoc=gql`
    fragment lessonSidebarData on Sublesson {
  name
  challenges {
    codeChallenge {
      ...codeChallengeData
    }
    multipleChoiceChallenge {
      ...multipleChoiceChallengeData
    }
  }
}
    ${CodeChallengeDataFragmentDoc}
${MultipleChoiceChallengeDataFragmentDoc}`,SublessonInstructionsDataFragmentDoc=gql`
    fragment sublessonInstructionsData on Sublesson {
  name
  id
  descriptions {
    short
    medium
    long
  }
  lesson {
    id
    name
  }
  challenges {
    id
    codeChallenge {
      ...codeChallengeData
    }
    multipleChoiceChallenge {
      ...multipleChoiceChallengeData
    }
  }
}
    ${CodeChallengeDataFragmentDoc}
${MultipleChoiceChallengeDataFragmentDoc}`;gql`
    mutation login($input: UsersPermissionsLoginInput!) {
  login(input: $input) {
    jwt
  }
}
    `;gql`
    mutation register($input: UsersPermissionsRegisterInput!) {
  register(input: $input) {
    jwt
  }
}
    `;const GetLessonExternalResourcesDataDocument=gql`
    query getLessonExternalResourcesData($slug: String!) {
  lessons(where: {slug: $slug}) {
    externalResources {
      name
      link
      type
    }
  }
}
    `;function useGetLessonExternalResourcesDataQuery(e){const t=u(u({},defaultOptions),e);return useQuery(GetLessonExternalResourcesDataDocument,t)}const GetCourseMapOverlayDataDocument=gql`
    query getCourseMapOverlayData($slug: String!) {
  courses(where: {slug: $slug}) {
    name
    modules {
      name
      ModuleLessons {
        lesson {
          name
          slug
        }
      }
    }
  }
}
    `;function useGetCourseMapOverlayDataQuery(e){const t=u(u({},defaultOptions),e);return useQuery(GetCourseMapOverlayDataDocument,t)}const GetSyntaxHandbookDataDocument=gql`
    query getSyntaxHandbookData($slug: String!) {
  courses(where: {slug: $slug}) {
    modules {
      ModuleLessons {
        lesson {
          syntaxEntry {
            content
            name
            maxWidth
          }
          sublessons {
            syntaxEntry {
              content
              name
              maxWidth
            }
          }
        }
      }
    }
  }
}
    `;function useGetSyntaxHandbookDataQuery(e){const t=u(u({},defaultOptions),e);return useQuery(GetSyntaxHandbookDataDocument,t)}const GetLessonDataDocument=gql`
    query getLessonData($slug: String!) {
  lessons(where: {slug: $slug}) {
    id
    name
    sublessons {
      ...sublessonInstructionsData
      ...lessonSidebarData
    }
  }
}
    ${SublessonInstructionsDataFragmentDoc}
${LessonSidebarDataFragmentDoc}`;function useGetLessonDataQuery(e){const t=u(u({},defaultOptions),e);return useQuery(GetLessonDataDocument,t)}const GetSublessonNavigationDataDocument=gql`
    query getSublessonNavigationData($currentLessonId: Int!) {
  nextLessonSlug(currentLessonId: $currentLessonId)
}
    `;function useGetSublessonNavigationDataQuery(e){const t=u(u({},defaultOptions),e);return useQuery(GetSublessonNavigationDataDocument,t)}const lessonSharedStyles={alignItems:"center",borderTop:"1px solid gray",borderBottom:"1px solid gray",d:"flex",px:rem(25),height:rem(50)},LessonButton=e=>jsx(Button,u({size:"sm"},e)),CourseMapOverlayLesson=({name:e,slug:t})=>{const[n,s]=react.exports.useState(!1);return n?jsxs(FlLink,m(u({},lessonSharedStyles),{bgColor:"#e0e0e0",href:`/lesson/${t}`,onMouseLeave:()=>s(!1),w:"100%",children:[jsx(Text,{children:"Go to lesson"}),jsx(FlLink,{href:"/this-is-a-url-to-practice-the-lesson-that-i-have-not-built-yet",marginInlineStart:"auto",children:jsx(LessonButton,{children:"Practice"})}),jsx(FlLink,{href:"/this-is-a-url-to-review-the-lesson-that-i-have-not-built-yet",ml:2,children:jsx(LessonButton,{ml:2,children:"Summary"})})]})):jsx(FlLink,{href:`/lesson/${t}`,children:jsx(Flex,m(u({},lessonSharedStyles),{justify:"space-between",children:jsx(Text,{fontSize:"20px",fontWeight:600,children:e})}))})},SidebarOverlayBase=({children:e,footer:t,showCloseButton:n,title:s})=>jsxs(ModalContent,{m:0,h:"100%",mr:"auto",children:[s&&jsx(ModalHeader,{children:s}),n&&jsx(ModalCloseButton,{}),jsx(ModalBody,{p:0,children:e}),t&&jsx(ModalFooter,{children:t})]}),CourseMapOverlay=()=>{var s,o;const{data:e}=useGetCourseMapOverlayDataQuery({variables:{slug:"js-foundations"}}),t=(s=e==null?void 0:e.courses)==null?void 0:s[0],n=((o=t==null?void 0:t.modules)==null?void 0:o.filter(r=>Boolean(r)))||[];return jsx(SidebarOverlayBase,{children:n.map(r=>{var a;return r&&jsxs(Box,{children:[jsx(Heading,{fontSize:"26px",p:4,children:r.name}),r.ModuleLessons&&((a=r.ModuleLessons)==null?void 0:a.map(({lesson:l})=>l&&jsx(CourseMapOverlayLesson,{name:l.name,slug:l.slug})))]},r.name)})})},SidebarOverlayContext=react.exports.createContext(null),useGetSidebarOverlay=()=>{const{overlayState:e}=useSidebarOverlayContext();switch(e){case"module-map":return CourseMapOverlay;default:return}},useSidebarOverlayContext=()=>{const e=react.exports.useContext(SidebarOverlayContext);if(!e)throw new Error("Please wrap the component in a SidebarOverlayContext provider");return e},Navbar=react.exports.memo(()=>{const{setOverlayState:e}=useSidebarOverlayContext();return jsx(Flex,{as:"nav",pl:rem(20),height:rem(mainNavbarHeight),alignItems:"center",children:jsx(HStack,{spacing:6,color:"white",children:jsx(NavbarLink,{onClick:()=>e("module-map"),children:"Map"})})})});Navbar.displayName="Navbar";const Layout=({children:e})=>jsxs(Box,m(u({},layoutStyles),{children:[jsx(Navbar,{}),jsx(Box,{as:"main",flex:"1",children:e})]})),Home=()=>jsx(Layout,{children:jsxs(Box,{mx:10,color:"white",children:[jsx(Text,{fontSize:"3xl",children:"If you are not embarrassed by the first version of your product, you've launched too late - Reid Hoffman"}),jsx(Divider,{my:5}),jsx(Text,{children:"Welcome! This is a very, very, very early version of AnyoneCanCode. Right now we are missing a ton of important features. Our current focus is building out our first course: JS Foundations. Click the Map button in the upper left hand corner to get started."})]})});var index$1="";const LearningSidebarPopupButton=({children:e,popupContent:t,popoverWidth:n,buttonTooltip:s})=>{const{isOpen:o,onClose:r,onToggle:a}=useDisclosure(),l=react.exports.useRef();return useOutsideClick({ref:l,handler:r}),jsxs(Box,{ref:l,position:"relative",width:"100%",children:[o&&jsx(Box,{bgColor:"white",color:"black",boxShadow:"-7px 13px 18px 0px rgb(0 0 0 / 45%)",position:"absolute",transform:"translateX(calc(-100% - 5px))",bottom:0,backgroundColor:"white",borderRadius:"20px",width:n||"250px",children:t}),jsx(Tooltip,{label:s,children:react.exports.cloneElement(e,{onClick:a})})]})},LessonExternalResources=()=>{var o,r;const{slug:e}=useParams(),{data:t}=useGetLessonExternalResourcesDataQuery({variables:{slug:e}}),n=(r=(o=t==null?void 0:t.lessons)==null?void 0:o[0])==null?void 0:r.externalResources;if(!(n==null?void 0:n.length))return null;const s=jsx(Box,{children:n.map(({link:a,name:l,type:i},c)=>jsxs(FlLink,{borderTop:c===0&&"1px solid black",borderBottom:"1px solid black",borderRadius:0,borderBottomRadius:c===n.length-1?"20px":0,display:"block",padding:"14px 18px",href:a,width:"100%",children:[l&&`${l} -`," ",a]}))});return jsx(LearningSidebarPopupButton,{popupContent:s,buttonTooltip:"External Resources",children:jsx(IconButton,{"aria-label":"Toggle Syntax Handbook",icon:jsx(BiLayerPlus,{size:30}),variant:"unstyled"})})},sublessonChallengeStartingIndex=-1;var ChallengeAttemptStatusEnum;(function(e){e.notAttempted="notAttempted",e.passed="passed",e.failed="failed"})(ChallengeAttemptStatusEnum||(ChallengeAttemptStatusEnum={}));const challengeAttemptStatusVar=makeVar(ChallengeAttemptStatusEnum.notAttempted),currentChallengeIndexVar=makeVar(sublessonChallengeStartingIndex),testResultsVar=makeVar([]),removeJSComments=e=>{try{return strip(e)}catch{return e}},overrideConsoleLog=e=>{console.standardLog=console.log,console.log=(...t)=>{e(t),console.standardLog.apply(console,t)}},restoreConsoleLog=()=>{if(!console.standardLog)throw new Error("Attempted to restore console.log but it has never been overwritten");console.log=console.standardLog},getCodeEvaluationHelpers=(e,t)=>{const n={wasLoggedToConsole:s=>e.some(o=>o.some(r=>r===s)),findFirstPassingLineForCondition:({condition:s})=>{debugger;const o=t.split(`
`);let r="";for(let a=0;a<o.length;a++){const l=o[a];r+=a===0?l:`
${l}`;const i=getEvaluationContext(r),c=`${r}
${s}`;if(evaluateWithContext(c,i))return{index:a,passed:!0}}return{index:-1,passed:!1}},removeWhitespace:(s,o=0,r="")=>o>=s.length?r:s[o]==" "?n.removeWhitespace(s,o+1,r):n.removeWhitespace(s,o+1,r+=s[o])};return n},getEvaluationContext=(e,t)=>{const n=`${e}`;return{_codeEvaluationHelpers:getCodeEvaluationHelpers(t,n),_codeString:n,_internalLogs:t}},getCode=(e="",t)=>t?removeJSComments(e):e,getConsoleLogsFromCodeEvaluation=e=>{const t=getEvaluationContext(e),n=[];overrideConsoleLog((...s)=>{n.push(s.toString()),console.standardLog("args",...s)});try{evaluateWithContext(`
    ${e};
  `,t)}catch(s){n.push(s.toString())}return restoreConsoleLog(),n},evaluateWithContext=(code,context={})=>function evaluateEval(){const contextStr=Object.keys(context).map(e=>`${e} = this.${e}`).join(","),contextDef=contextStr?`let ${contextStr};`:"",evalString=`${contextDef}${code}`,result=eval(evalString);return result}.call(context),runTestEvaluator=async({code:e,internalTest:t,removeComments:n})=>{if(typeof self=="undefined")return;let s=!0,o;const r=getCode(e,n),a=[];overrideConsoleLog(l=>{a.push(l),console.standardLog("args",...l)});try{const l=getEvaluationContext(r,a);if(!evaluateWithContext(`${r};
      ${t};`,l))throw new Error("did not pass")}catch(l){s=!1,o=l}return restoreConsoleLog(),{error:o,test:t,pass:s}};typeof self!="undefined"&&self.postMessage({type:"contentLoaded"});const executeTests=async(e,t)=>pMap(t,async n=>{const{label:s,internalTest:o}=n,r={pass:!0,label:s,internalTest:o},{pass:a,error:l}=await runTestEvaluator({internalTest:o,code:e});if(!a){const{message:i,stack:c}=l;r.pass=!1,r.error=i+`
`+c,r.stack=c}return r});async function runTests(e,t){const n=await executeTests(e,t);return n.map(({error:s,pass:o},r)=>console.log(r,(s||"").substring(0,20),o)),n}const lessonCompletionDataVar=makeVar([]),currentSublessonIndexVar=makeVar(0),getLearningStepCompletionData=({challengeIndex:e=currentChallengeIndexVar(),sublessonIndex:t=currentSublessonIndexVar(),lessonCompletionData:n=lessonCompletionDataVar()})=>{const{challenges:s,introduction:o}=n[t]||{};return e===-1?o:s==null?void 0:s[e]},getStoredCodeFromLastChallengeData=()=>{var t;const e=currentChallengeIndexVar();if(e===0)throw new Error("Attempted to get stored code from previous challenge, but this is the first challenge.");return(t=getLearningStepCompletionData({challengeIndex:e-1}))==null?void 0:t.code},useGetLearningStepCompletionData=()=>{const e=useReactiveVar(currentChallengeIndexVar),t=useReactiveVar(currentSublessonIndexVar),n=useReactiveVar(lessonCompletionDataVar);return getLearningStepCompletionData({challengeIndex:e,sublessonIndex:t,lessonCompletionData:n})},hasPassedCodeChallenge=(e,t)=>!e||e.length===0||t.length!==0&&t.every(({pass:n})=>n),useCodeChallengeTests=e=>{const{code:t}=useGetLearningStepCompletionData(),n=useReactiveVar(testResultsVar),s=react.exports.useRef(t);return s.current=t,{runTests:async()=>{const r=await runTests(s.current,e);testResultsVar(r),hasPassedCodeChallenge(e,r)?passChallenge():failChallenge()},testResults:n}},resetTestResults=()=>{testResultsVar([])},getCodeChallengeStartingCode=(e,t)=>{var l;const{challengeMeta:n,startingCode:s,getStartingCodeFromPreviousChallenge:o}=e,r=(l=getLearningStepCompletionData({}))==null?void 0:l.code,a=o&&getStoredCodeFromLastChallengeData();if(o&&s)throw new Error("Both getStartingCodeFromPreviousChallenge and startingCode are set. Please only set one per challenge");return e?r&&!t?r:s||a||((n==null?void 0:n.difficulty)==="hard"?"This is a hard challenge. Expect to struggle. TODO: Add more text to this and improve the message":""):""},updateLearningStepCompletionData=e=>{const t=lessonCompletionDataVar(),n=currentSublessonIndexVar(),s=currentChallengeIndexVar(),o=s===-1?{introduction:e}:{challenges:{[s]:e}},r=update(t,{[n]:o});lessonCompletionDataVar(r)},updateSublessonIntroductionCompletion=(e,t)=>{const n=lessonCompletionDataVar(),s=update(n,{[e]:{introduction:{completed:{$set:t}}}});lessonCompletionDataVar(s)},updateCurrentEditorValue=e=>{updateLearningStepCompletionData({code:{$set:e}})},setChallengeIndex=e=>{currentChallengeIndexVar(e),resetTestResults()},passChallenge=()=>{challengeAttemptStatusVar(ChallengeAttemptStatusEnum.passed),updateLearningStepCompletionData({completed:{$set:!0}})},failChallenge=()=>{challengeAttemptStatusVar(ChallengeAttemptStatusEnum.failed)},resetSublesson=()=>{setChallengeIndex(sublessonChallengeStartingIndex)},setSublessonIndex$1=e=>{currentSublessonIndexVar(e),resetSublesson()};var ProgressStateEnum;(function(e){e.INCOMPLETE="INCOMPLETE",e.CURRENT="CURRENT",e.COMPLETE="COMPLETE"})(ProgressStateEnum||(ProgressStateEnum={}));const isSublessonComplete=e=>{var t;return e.introduction.completed&&((t=e.challenges)==null?void 0:t.every(({completed:n})=>n))},useGetLessonCompletionProgressStates=()=>{var l,i;const e=useReactiveVar(currentSublessonIndexVar),t=useReactiveVar(currentChallengeIndexVar),n=useReactiveVar(lessonCompletionDataVar),s=n.map((c,d)=>d===e?ProgressStateEnum.CURRENT:isSublessonComplete(n==null?void 0:n[d])?ProgressStateEnum.COMPLETE:ProgressStateEnum.INCOMPLETE),o=((i=(l=n[e])==null?void 0:l.challenges)==null?void 0:i.map(({completed:c},d)=>d===t?ProgressStateEnum.CURRENT:c?ProgressStateEnum.COMPLETE:ProgressStateEnum.INCOMPLETE))||[],r=t===-1?ProgressStateEnum.CURRENT:(n==null?void 0:n[e].introduction.completed)?ProgressStateEnum.COMPLETE:ProgressStateEnum.INCOMPLETE;return{allSublessonCompletions:s,currentSublessonCompletion:{challenges:o,introduction:r}}},useGetLessonSidebarProgressStepperData=e=>{const{allSublessonCompletions:t,currentSublessonCompletion:n}=useGetLessonCompletionProgressStates(),s={hoverText:"Introduction",onClick:()=>setChallengeIndex(-1),state:n.introduction},o=n.challenges.map((l,i)=>{var c;return{hoverText:`Challenge ${i+1}`,onClick:()=>setChallengeIndex(i),state:(c=n.challenges)==null?void 0:c[i]}}),r=e.map(({name:l},i)=>({onClick:()=>setSublessonIndex$1(i),hoverText:l,state:t[i]})),a=[s,...o];return{allSublessonsStepperData:r,currentSublessonStepperData:a}},progressStepperColorStateMap={[ProgressStateEnum.COMPLETE]:"#59CD90",[ProgressStateEnum.CURRENT]:"#E5E5E5",[ProgressStateEnum.INCOMPLETE]:"#D62828"},progressStepperItemSize=rem(8),ProgressStepper=({steps:e,title:t})=>jsxs(Box,{p:"5px",children:[jsx(Flex,{align:"center",justify:"center",mb:rem(10),children:jsx(Text,{children:t})}),jsx(HStack,{justify:"center",spacing:"3px",children:e.map(({hoverText:n,state:s,onClick:o})=>jsx(FlLink,{onClick:o,children:jsx(Tooltip,{label:n,children:jsx(Box,{w:progressStepperItemSize,h:progressStepperItemSize,borderRadius:"50%",bgColor:progressStepperColorStateMap[s]})})},n))})]}),InlineCode=s=>{var o=s,{children:e,className:t}=o,n=C(o,["children","className"]);return jsx("code",m(u({style:{border:"1.6px solid rgba(0,0,0,.1)",borderRadius:"6.4px",fontFamily:"monospace",backgroundColor:"rgb(246, 247, 248)"},className:t},n),{children:e}))},MultiLineCodeBlock=s=>{var o=s,{customStyle:e={},theme:t}=o,n=C(o,["customStyle","theme"]);return jsx(SyntaxHighlighter,u({language:"js",PreTag:"div",customStyle:u({borderRadius:7,margin:`${rem(15)} 0`},e),style:t,wrapLongLines:!0},n))},StyledMarkdown=chakra(ReactMarkdown,{baseStyle:{lineHeight:1.65," a":{color:"#172A4E",textDecoration:"underline"}," li":{listStyle:"inside",listStyleType:"'- '"},"> *:not(:last-child)":{marginBottom:rem(10)}," code":{padding:`0 ${rem(3)}`}}}),stripNewlines=e=>String(e).replace(/\n$/,""),Markdown=({children:e,codeTheme:t,forceMultiLine:n,multiLineCodePropOverrides:s={},markdownCSSOverrides:o={},containerOverrides:r={}})=>jsx(Box,m(u({w:"100%"},r),{children:jsx(StyledMarkdown,{children:e,cssOverrides:o,components:{img(i){var c=i,{src:a}=c,l=C(c,["src"]);return jsx("img",u({src:`http://localhost:1337${a}`},l))},code(d){var h=d,{node:a,inline:l,children:i}=h,c=C(h,["node","inline","children"]);return l&&!n?jsx(InlineCode,m(u({},c),{children:i})):jsx(MultiLineCodeBlock,u(u({children:stripNewlines(i),theme:t},c),s))},a:d=>{var h=d,{node:a,children:l,href:i}=h,c=C(h,["node","children","href"]);return jsx(FlLink,m(u({children:l[0]},c),{href:i,target:"_blank"}))}}})}));function flatMap(e,t){return Array.prototype.concat(...e.map(t))}const getSyntaxHandbookEntriesFromQueryData=e=>{var n,s,o,r;const t=((r=(o=(s=(n=e==null?void 0:e.courses)==null?void 0:n[0])==null?void 0:s.modules)==null?void 0:o[0])==null?void 0:r.ModuleLessons)||[];return flatMap(t,({lesson:a})=>{const l=a==null?void 0:a.syntaxEntry,i=flatMap(a==null?void 0:a.sublessons,({syntaxEntry:c})=>c?[c]:[]);return l?[l,...i]:i})},SyntaxHandbook=()=>{const{data:e}=useGetSyntaxHandbookDataQuery({variables:{slug:"js-foundations"}}),t=getSyntaxHandbookEntriesFromQueryData(e),n=jsxs(Box,{textAlign:"left",children:[jsx(Heading,{margin:"20px 0 16px 12px",size:"md",children:"Syntax Handbook"}),t.map(({content:s,maxWidth:o,name:r},a)=>jsx(LearningSidebarPopupButton,{popupContent:jsx(Markdown,{containerOverrides:{padding:"16px",borderRadius:"10px"},children:s}),popoverWidth:o||400,buttonTooltip:"Syntax Handbook",children:jsx(Button,{borderTop:a===0&&"1px solid black",borderBottom:"1px solid black",borderRadius:0,borderBottomRadius:a===t.length-1?"20px":0,padding:"14px 18px",onClick:()=>{},variant:"ghost",width:"100%",justifyContent:"start",children:r})},r))]});return jsx(LearningSidebarPopupButton,{buttonTooltip:"Syntax Handbook",popupContent:n,children:jsx(IconButton,{"aria-label":"Toggle Syntax Handbook",icon:jsx(BsJournals,{size:30}),variant:"unstyled"})})},LessonSidebar=react.exports.memo(({sublessons:e})=>{const{allSublessonsStepperData:t,currentSublessonStepperData:n}=useGetLessonSidebarProgressStepperData(e);return jsxs(Flex,{direction:"column",bgColor:"#172A4E",color:"white",textAlign:"center",py:"20px",flex:`${rem(115)} 0 0`,children:[jsx(Heading,{size:"md",mb:rem(25),children:"Progress"}),jsx(ProgressStepper,{title:"Lesson",steps:t}),jsx(ProgressStepper,{title:"Sublesson",steps:n}),jsxs(VStack,{marginTop:"auto",justifyContent:"center",spacing:"30px",children:[jsx(LessonExternalResources,{}),jsx(SyntaxHandbook,{})]})]})});LessonSidebar.displayName="LessonSidebar";var SublessonTextLengthPreferenceEnum;(function(e){e.short="short",e.medium="medium",e.long="long"})(SublessonTextLengthPreferenceEnum||(SublessonTextLengthPreferenceEnum={}));var SublessonChallengeFrequencyEnum;(function(e){e.low="low",e.medium="medium",e.high="high"})(SublessonChallengeFrequencyEnum||(SublessonChallengeFrequencyEnum={}));var AuthModalStateEnum;(function(e){e.NOT_OPEN="NOT_OPEN",e.LOGIN="LOGIN",e.REGISTER="REGISTER"})(AuthModalStateEnum||(AuthModalStateEnum={}));const sublessonTextLengthPreferenceVar=makeVar(SublessonTextLengthPreferenceEnum.medium),sublessonChallengeFrequencyVar=makeVar(SublessonChallengeFrequencyEnum.medium),contentPanelScrollToTopFunctionVar=makeVar(()=>null);makeVar(AuthModalStateEnum.NOT_OPEN);const getChallengeFromSublessonChallenge=e=>{if(Boolean(e)===!1)return null;if(e.codeChallenge)return e.codeChallenge;if(e.multipleChoiceChallenge)return e.multipleChoiceChallenge;throw new Error(`Sublesson challenge of id ${e.id} did not contain any challenges. Is the challenge/sublesson still a draft?`)},getChallengesFromSublessonChallenges=e=>(e||[]).flatMap(getChallengeFromSublessonChallenge),isSublessonIntroduction=e=>e===-1,descriptionPreferenceToNumericalValueMap={[SublessonTextLengthPreferenceEnum.short]:0,[SublessonTextLengthPreferenceEnum.medium]:1,[SublessonTextLengthPreferenceEnum.long]:2},makeDescriptionsIntoArray=e=>{const t=[];return Object.entries(e).forEach(([n,s])=>{const o=descriptionPreferenceToNumericalValueMap[n];t[o]=s}),t},useGetLessonDescription=e=>{const t=useReactiveVar(sublessonTextLengthPreferenceVar),n=makeDescriptionsIntoArray(e),s=descriptionPreferenceToNumericalValueMap[t];if(n[s])return n[s];const o=n.slice(s+1).filter(i=>Boolean(i))[0],r=n.slice(0,s).filter(i=>Boolean(i)).reverse()[0];if(!o&&!r)throw new Error("No description exists");return o||r},setSublessonIndex=e=>{currentSublessonIndexVar(e),resetSublesson()},useSublessonNavigation=({sublesson:{challenges:e,lesson:t},totalSublessons:n})=>{const s=useHistory(),o=useReactiveVar(currentSublessonIndexVar),r=useReactiveVar(currentChallengeIndexVar),{data:a}=useGetSublessonNavigationDataQuery({variables:{currentLessonId:Number(t.id)}}),l=r+1===e.length,i=o+1===n,c=l&&i,d=isSublessonIntroduction(r);return{isEndOfLesson:c,onClickNext:()=>{challengeAttemptStatusVar(ChallengeAttemptStatusEnum.notAttempted),d&&updateSublessonIntroductionCompletion(o,!0),l?i?s.push(`/lesson/${a==null?void 0:a.nextLessonSlug}`):setSublessonIndex(o+1):setChallengeIndex(r+1)}}},getSublessonStartingCode=()=>`/* We highly recommend that when you see code examples in
 * the lesson you type them out again here. This will
 * significantly help you remember what the lesson is
 * teaching, because instead of just looking at examples,
 * you are writing code yourself.
 */`;function SvgReset(){return react.exports.createElement("svg",{width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("path",{d:"M2.89647 5.26262C3.68391 3.9036 4.93841 2.87706 6.42638 2.37415C7.91436 1.87124 9.5344 1.92623 10.9848 2.52888C12.4353 3.13153 13.6173 4.24077 14.3108 5.65005C15.0042 7.05934 15.1619 8.67262 14.7544 10.1895C14.347 11.7064 13.4021 13.0235 12.0958 13.8956C10.7895 14.7677 9.21076 15.1353 7.65356 14.93C6.09637 14.7248 4.66685 13.9605 3.63117 12.7797C2.59549 11.5989 2.02425 10.0819 2.0238 8.51124",stroke:"#D62828",strokeLinecap:"round",strokeLinejoin:"round"}),react.exports.createElement("path",{d:"M6.07147 5.27301H2.83337V2.03491",stroke:"#D62828",strokeLinecap:"round",strokeLinejoin:"round"}))}const ChallengeHints=({hints:e})=>jsxs(Box,{children:[jsx(Heading,{size:"md",mr:"auto",children:"Hints"}),jsx(Accordion,{my:4,allowMultiple:!0,children:e.map(({text:t},n)=>jsxs(AccordionItem,{children:[jsxs(AccordionButton,{pl:1,children:[jsxs(Text,{mr:"auto",children:["Hint ",n]}),jsx(AccordionIcon,{})]}),jsx(AccordionPanel,{children:jsx(Flex,{children:jsx(Markdown,{children:t})})})]},t))})]}),ChallengeMarkdown=n=>{var s=n,{containerOverrides:e={}}=s,t=C(s,["containerOverrides"]);return jsx(Markdown,u({containerOverrides:u({mb:"20px",mt:"10px",fontSize:"18px"},e)},t))},ChallengeButton=e=>jsx(Button,u({px:"35px",py:"25px",mt:"auto",mb:"30px",colorScheme:"green"},e)),getIcon=e=>e===void 0?jsx(MinusOutlined,{style:{fontSize:rem(24)}}):e?jsx(CheckCircleOutlined,{style:{fontSize:rem(24),color:"green"}}):jsx(CloseCircleOutlined,{style:{fontSize:rem(24),color:"red"}}),TestCaseResult=({containerStyles:e={},label:t,passed:n})=>jsxs(Flex,m(u({align:"center"},e),{children:[getIcon(n),jsx(Markdown,{containerOverrides:{ml:"12px"},children:t})]})),CodeChallenge=({challenge:e,nextButtonText:t,onClickNext:n})=>{const{id:s,hints:o,tests:r,prompt:a}=e,{runTests:l}=useCodeChallengeTests(r),i=x=>{updateCurrentEditorValue(getCodeChallengeStartingCode(e,x)),testResultsVar([])},c=useReactiveVar(testResultsVar),d=hasPassedCodeChallenge(r,c),h=Boolean(o==null?void 0:o.length);return react.exports.useEffect(i,[s]),jsxs(Fragment,{children:[jsx(Box,{mt:"15px"}),jsx(ChallengeMarkdown,{containerOverrides:{flexGrow:1},children:a}),jsxs(Box,{mb:"20px",w:"100%",children:[h?jsx(ChallengeHints,{hints:o}):jsx(Divider,{opacity:1}),jsx(Tests,{tests:r})]}),jsxs(Flex,{spacing:6,mt:"auto",children:[d?jsx(ChallengeButton,{colorScheme:"green",onClick:n,mr:"20px",children:t}):jsx(ChallengeButton,{colorScheme:"green",onClick:l,mr:"20px",children:"Run Tests"}),jsx(ChallengeButton,{colorScheme:"red",onClick:()=>i(!0),variant:"ghost",children:jsxs(HStack,{spacing:"5px",children:[jsx(SvgReset,{}),jsx(Text,{fontWeight:"medium",children:"Reset Code"})]})})]})]})},Tests=({tests:e})=>{const{testResults:t}=useCodeChallengeTests(e);return jsxs(Box,{children:[jsx(Heading,{size:"md",mr:"auto",my:"23px",children:"Tests"}),jsx(VStack,{spacing:"12px",align:"left",children:e==null?void 0:e.map(({label:n},s)=>{var o;return jsx(TestCaseResult,{passed:(o=t[s])==null?void 0:o.pass,label:n},n)})})]})},multipleChoiceOptionSelectionsVar=makeVar({}),SELECTED_OPTION_BACKGROUND_COLOR="#2b2b2b",MultipleChoiceChallengeOption=({incorrectChoiceExplanation:e,isOptionSelected:t,onClickOption:n,showOptionIncorrectExplanation:s,text:o,useMarkdown:r})=>{const a=t?"white":"black";return jsxs(Box,{mb:s?"5px":"15px",w:"100%",children:[jsx(Button,m(u({w:"100%",bgColor:t?SELECTED_OPTION_BACKGROUND_COLOR:"#F4F2F0",color:a,_hover:{color:a},fontWeight:"normal",d:"flex",outline:"none",border:"1px solid #6A6A6A",onClick:n},r?{height:"100%",padding:0,textAlign:"left"}:{py:"22px"}),{children:r?jsx(Markdown,{codeTheme:t?prism.darcula:defaultTheme,forceMultiLine:!0,markdownCSSOverrides:{"> *":{marginBottom:0}},multiLineCodePropOverrides:{customStyle:{margin:0,padding:`${rem(12)} ${rem(10)}`}},children:o}):o}),o),s&&jsx(Text,{color:"red",fontSize:"14px",mt:"2px",children:e})]})},MultipleChoiceChallenge=({challenge:{canSelectMultipleOptions:e,id:t,options:n=[],prompt:s,useMarkdownForOptionsText:o},nextButtonText:r,onClickNext:a})=>{const l=useReactiveVar(challengeAttemptStatusVar),i=useReactiveVar(multipleChoiceOptionSelectionsVar),c=l===ChallengeAttemptStatusEnum.passed,d=g=>Boolean(n[g].isCorrect)===Boolean(i[g]),h=g=>l===ChallengeAttemptStatusEnum.failed&&n[g].incorrectChoiceExplanation&&!d(g);react.exports.useEffect(()=>{multipleChoiceOptionSelectionsVar([])},[t]);const x=()=>{n.every((S,b)=>d(b))?passChallenge():failChallenge()},y=g=>{challengeAttemptStatusVar(ChallengeAttemptStatusEnum.notAttempted),multipleChoiceOptionSelectionsVar(e?m(u({},i),{[g]:!i[g]}):{[g]:!i[g]})},f=g=>Boolean(i[g]);return jsxs(Fragment,{children:[jsx(Text,{fontStyle:"italic",opacity:"65%",color:"black",mb:"30px",mt:"10px",children:"Select the correct option:"}),jsx(ChallengeMarkdown,{children:s}),n.map(({incorrectChoiceExplanation:g,text:S},b)=>jsx(MultipleChoiceChallengeOption,{text:S,incorrectChoiceExplanation:g,isOptionSelected:f(b),onClickOption:()=>y(b),showOptionIncorrectExplanation:h(b),useMarkdown:o},S)),jsxs(Box,{mt:"auto",position:"relative",width:"100%",children:[c?jsx(ChallengeButton,{onClick:a,children:r}):jsx(ChallengeButton,{onClick:x,children:"Submit"}),l===ChallengeAttemptStatusEnum.passed&&jsx(Text,{color:"green",fontSize:"14px",position:"absolute",top:"53px",children:"Correct!"}),l===ChallengeAttemptStatusEnum.failed&&jsx(Text,{color:"red",fontSize:"14px",position:"absolute",top:"53px",children:"Incorrect. Try again"})]})]})},Challenge=({challenge:e,nextButtonText:t,onClickNext:n})=>{if(e.__typename==="CodeChallenge")return jsx(CodeChallenge,{challenge:e,nextButtonText:t,onClickNext:n});if(e.__typename==="MultipleChoiceChallenge")return jsx(MultipleChoiceChallenge,{challenge:e,nextButtonText:t,onClickNext:n});throw new Error("Other types not built yet")};function SvgDownArrow(){return react.exports.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("path",{d:"M7.29289 14.7071C7.68342 15.0976 8.31658 15.0976 8.70711 14.7071L15.0711 8.34315C15.4616 7.95262 15.4616 7.31946 15.0711 6.92893C14.6805 6.53841 14.0474 6.53841 13.6569 6.92893L8 12.5858L2.34315 6.92893C1.95262 6.53841 1.31946 6.53841 0.928932 6.92893C0.538408 7.31946 0.538408 7.95262 0.928933 8.34315L7.29289 14.7071ZM7 4.37114e-08L7 14L9 14L9 -4.37114e-08L7 4.37114e-08Z",fill:"black",fillOpacity:.17}))}function SvgLeftArrow(){return react.exports.createElement("svg",{width:24,height:16,viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("path",{d:"M0.292893 7.29289C-0.0976311 7.68342 -0.0976311 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928932C7.68054 0.538408 7.04738 0.538408 6.65685 0.928932L0.292893 7.29289ZM24 7L1 7V9L24 9V7Z",fill:"black",fillOpacity:.17}))}const IndicatorText=e=>jsx(Text,u({color:"#646466",opacity:"70%",fontSize:"14px"},e)),ContentPanelNavigationIndicators=s=>{var o=s,{onGoBack:e,scrollIndicator:t}=o,n=C(o,["onGoBack","scrollIndicator"]);return jsxs(Box,m(u({d:"flex",justifyContent:"space-between",w:"100%"},n),{children:[e&&jsxs(Box,{as:"button",d:"flex",alignItems:"center",onClick:e,children:[jsx(SvgLeftArrow,{}),jsx(IndicatorText,{ml:"7px",children:"Go Back"})]}),t&&jsxs(Box,{ml:"auto",d:"flex",alignItems:"center",children:[jsx(IndicatorText,{mr:"12px",children:"Scroll for lesson text"}),jsx(SvgDownArrow,{})]})]}))},LessonSettingsButtonGroup=({boxProps:e={},currentValue:t,label:n,onClick:s,options:o})=>jsxs(Box,m(u({marginBottom:"10px"},e),{children:[jsx(Text,{children:n}),jsx(HStack,{spacing:3,children:o.map(({label:r,value:a})=>jsx(Button,{variant:t===a?"solid":"ghost",flex:"1",onClick:()=>s(a),children:r},r))})]}));var LessonSettingsSaveOptionsEnum;(function(e){e.sublesson="sublesson",e.lesson="lesson",e.everywhere="everywhere"})(LessonSettingsSaveOptionsEnum||(LessonSettingsSaveOptionsEnum={}));const sublessonChallengeFrequencyOptions=[{label:"Low",value:SublessonChallengeFrequencyEnum.low},{label:"Medium",value:SublessonChallengeFrequencyEnum.medium},{label:"High",value:SublessonChallengeFrequencyEnum.high}],sublessonTextLengthPreferenceOptions=[{label:"Short",value:SublessonTextLengthPreferenceEnum.short},{label:"Medium",value:SublessonTextLengthPreferenceEnum.medium},{label:"Long",value:SublessonTextLengthPreferenceEnum.long}],lessonSettingsSaveOptions=[{label:"This Sublesson",value:LessonSettingsSaveOptionsEnum.sublesson},{label:"This Lesson",value:LessonSettingsSaveOptionsEnum.lesson},{label:"Everywhere",value:LessonSettingsSaveOptionsEnum.everywhere}],LessonSettings=t=>{var e=C(t,[]);const{isOpen:n,onOpen:s,onClose:o}=useDisclosure(),r=useReactiveVar(sublessonTextLengthPreferenceVar),a=useReactiveVar(sublessonChallengeFrequencyVar),l={lessonSaveOption:LessonSettingsSaveOptionsEnum.everywhere,sublessonTextLengthPreference:r,sublessonChallengeFrequency:a},i=c=>{sublessonTextLengthPreferenceVar(c.sublessonTextLengthPreference),sublessonChallengeFrequencyVar(c.sublessonChallengeFrequency),o()};return jsxs(Box,m(u({},e),{children:[jsx(SettingOutlined,{onClick:s}),jsxs(Modal,{isOpen:n,onClose:o,children:[jsx(ModalOverlay,{}),jsx(Formik,{initialValues:l,onSubmit:i,children:({values:c,handleSubmit:d,setFieldValue:h})=>jsxs(ModalContent,{maxWidth:"600px",children:[jsx(ModalHeader,{children:"Lesson Settings"}),jsx(ModalCloseButton,{}),jsxs(ModalBody,{children:[jsx(LessonSettingsButtonGroup,{options:sublessonTextLengthPreferenceOptions,currentValue:c.sublessonTextLengthPreference,onClick:x=>h("sublessonTextLengthPreference",x),label:"Lesson text:"}),jsx(Text,{fontSize:"14px",opacity:"75%",mb:"15px",children:"Note: The above setting only applies if there is applicable content. There may only be one description for a sublesson written, in which case different settings will show the same thing"}),jsx(LessonSettingsButtonGroup,{options:sublessonChallengeFrequencyOptions,currentValue:c.sublessonChallengeFrequency,onClick:x=>h("sublessonChallengeFrequency",x),label:"Exercise Frequency:"}),jsx(LessonSettingsButtonGroup,{boxProps:{mt:"30px"},options:lessonSettingsSaveOptions,onClick:x=>h("lessonSettingsSaveOptions",x),currentValue:c.lessonSaveOption,label:"Changes apply to:"})]}),jsx(ModalFooter,{children:jsx(Button,{colorScheme:"green",onClick:()=>d(),children:"Save"})})]})})]})]}))},ContentPanelHeight=`calc(100vh - ${rem(mainNavbarHeight)} - ${rem(lessonMenuHeight+5)})`,ContentPanel=react.exports.memo(({includeSettings:e,children:t,onGoBack:n,secondaryContent:s})=>{const o=react.exports.useRef(null);return react.exports.useEffect(()=>{contentPanelScrollToTopFunctionVar(()=>{var r;return(r=o==null?void 0:o.current)==null?void 0:r.scrollTo(0,0)})},[]),jsxs(Box,{bgColor:"white",p:"20px 20px 0",height:ContentPanelHeight,overflowY:"scroll",position:"relative",borderRadius:"16px",css:{"&::-webkit-scrollbar-thumb":{backgroundColor:"lightgray",border:"8px solid transparent",borderRadius:"16px",backgroundClip:"padding-box"},"&::-webkit-scrollbar":{width:"24px"}},ref:o,children:[e&&jsx(LessonSettings,{position:"absolute",right:"20px",top:"15px"}),jsxs(Box,{minHeight:"100%",d:"flex",flexDir:"column",alignItems:"baseline",children:[t,jsx(ContentPanelNavigationIndicators,{onGoBack:n,scrollIndicator:Boolean(s),mb:"20px"})]}),s&&jsxs(Fragment,{children:[jsx(Divider,{color:"#D0D0D5",opacity:"1",mb:"20px"}),s]})]})});ContentPanel.displayName="ContentPanel";const SublessonInstructions=React.memo(({lastChallengeIndexOfPreviousSublesson:e,sublesson:t,totalSublessons:n})=>{var S;const s=useReactiveVar(currentChallengeIndexVar),o=useReactiveVar(currentSublessonIndexVar),r=useReactiveVar(contentPanelScrollToTopFunctionVar),a=useGetLessonDescription(t.descriptions),l=getChallengesFromSublessonChallenges(t.challenges),i=l[s],{isEndOfLesson:c,onClickNext:d}=useSublessonNavigation({sublesson:t,totalSublessons:n}),h=c?"Go to next lesson":"Next",x=isSublessonIntroduction(s),y=!x||o!==0,f=jsxs(Fragment,{children:[jsx(Text,{fontSize:"26px",children:t.name}),jsx(Markdown,{containerOverrides:{mb:"35px",mt:"10px"},children:a}),x&&jsx(ChallengeButton,{onClick:d,children:t.challenges.length?"Begin Challenges":h})]}),g=()=>{x?(currentSublessonIndexVar(o-1),currentChallengeIndexVar(e)):currentChallengeIndexVar(s-1)};return react.exports.useEffect(()=>{updateCurrentEditorValue(getSublessonStartingCode())},[t.id]),react.exports.useEffect(r,[t.id,i==null?void 0:i.id]),jsx(ContentPanel,{onGoBack:y&&g,secondaryContent:!x&&f,children:jsxs(Fragment,{children:[jsx(Text,{fontSize:"13px",textTransform:"uppercase",children:(S=t.lesson)==null?void 0:S.name}),x?f:jsx(Challenge,{challenge:l[s],onClickNext:d,nextButtonText:h})]})})});SublessonInstructions.displayName="SublessonInstructions";const resetLesson=e=>{const t=e.sublessons.map(({challenges:n})=>({challenges:n.map(s=>({startingCode:getChallengeFromSublessonChallenge(s).__typename==="CodeChallenge"?getCodeChallengeStartingCode(s,!1):""})),introduction:{}}));lessonCompletionDataVar(t),resetSublesson(),setSublessonIndex(0)};var index="";const currentLogVar=makeVar([]),useDebounced=(e,t,n)=>{react.exports.useEffect(()=>{const s=setTimeout(()=>e(),n);return()=>clearTimeout(s)},[...t||[],n])},DEFAULT_MONACO_EDITOR_THEME="all-hallows-eve",defineDefaultMonacoTheme=({editor:e})=>{e.defineTheme(DEFAULT_MONACO_EDITOR_THEME,AllHallowsEveTheme)},options={fontSize:18,scrollBeyondLastLine:!1,selectionHighlight:!1,overviewRulerBorder:!1,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},glyphMargin:!1,folding:!1,lineDecorationsWidth:20,lineNumbersMinChars:2,selectOnLineNumbers:!0,wordWrap:"on",scrollbar:{horizontal:"hidden",vertical:"visible",verticalHasArrows:!1,useShadows:!1,verticalScrollbarSize:5},parameterHints:{enabled:!1},tabSize:2,hover:{enabled:!1},dragAndDrop:!0,lightbulb:{enabled:!1},quickSuggestions:!1},Editor=()=>{const e=useReactiveVar(currentLogVar),{code:t,startingCode:n}=useGetLearningStepCompletionData()||{},s=t===void 0?n:t,o=r=>{resetTestResults(),updateCurrentEditorValue(r)};return useDebounced(()=>{const r=getConsoleLogsFromCodeEvaluation(s);currentLogVar(r)},[s],400),jsxs(Box,{d:"flex",flexDirection:"column",h:"100%",children:[jsx(index$2,{beforeMount:defineDefaultMonacoTheme,language:"javascript",theme:DEFAULT_MONACO_EDITOR_THEME,value:s,options,onChange:o,height:"70vh"}),jsx(Box,{bgColor:"white",color:"black",borderRadius:"10px",h:"100px",mt:"auto",mr:"5px",padding:"10px",fontFamily:"Roboto Mono",children:e.map((r,a)=>jsx("span",{style:{display:"block"},children:r},r+a))})]})},LessonPage=({lesson:e})=>{var a,l;const t=e.sublessons||[],n=useReactiveVar(currentSublessonIndexVar),s=t[n],o=t.length,r=n>0?(((l=(a=t==null?void 0:t[n-1])==null?void 0:a.challenges)==null?void 0:l.length)||0)-1:void 0;return react.exports.useEffect(()=>{window.setSublesson=currentSublessonIndexVar,window.setChallenge=currentChallengeIndexVar},[]),s?jsxs(Grid,{templateColumns:"repeat(12, 1fr)",gap:{md:"20px"},children:[jsx(GridItem,{colSpan:5,children:jsx(SublessonInstructions,{sublesson:s,totalSublessons:o,lastChallengeIndexOfPreviousSublesson:r})}),jsx(GridItem,{colSpan:7,mt:"10px",children:jsx(Editor,{})})]}):jsx("span",{children:"no sublesson"})},LessonPageContainer=()=>{const[e,t]=react.exports.useState(null),{slug:n}=useParams();useGetLessonDataQuery({variables:{slug:n},onCompleted:o=>{var a;const r=(a=o==null?void 0:o.lessons)==null?void 0:a[0];r&&resetLesson(r),t(r)}});const s=e==null?void 0:e.sublessons;return jsxs(Flex,m(u({},layoutStyles),{overflow:"hidden",children:[jsxs(Box,{pl:"2px",mr:{md:"20px",lg:"30px",xl:"40px"},children:[jsx(Navbar,{}),e&&jsx(LessonPage,{lesson:e})]}),s&&jsx(LessonSidebar,{sublessons:s})]}))},PageNotFound=()=>jsx(Layout,{children:jsx(Text,{color:"white",children:"Page not found"})}),SidebarOverlay=()=>{const e=useGetSidebarOverlay(),{setOverlayState:t}=useSidebarOverlayContext(),n=()=>t();return e?jsxs(Modal,{isOpen:!0,onClose:n,onEsc:n,children:[jsx(ModalOverlay,{}),jsx("span",{children:" what is above"}),jsx(e,{})]}):null};function App(){const[e,t]=react.exports.useState();return jsx(BrowserRouter,{children:jsxs(SidebarOverlayContext.Provider,{value:{overlayState:e,setOverlayState:t},children:[jsx(SidebarOverlay,{}),jsxs(Switch,{children:[jsx(Route,{exact:!0,path:"/",children:jsx(Home,{})}),jsx(Route,{path:"/lesson/:slug",children:jsx(LessonPageContainer,{})}),jsx(Route,{children:jsx(PageNotFound,{})})]})]})})}var theme=extendTheme({components:{Button:{baseStyle:{svg:{display:"unset"},_focus:{boxShadow:"none"}}}},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},fonts:{body:"Roboto",heading:"Roboto"},styles:{global:{body:{overflow:"hidden"}}}});const client=new ApolloClient({uri:"http://143.198.120.197:1337/graphql",cache:new InMemoryCache});ReactDOM.render(jsx(React.StrictMode,{children:jsx(ApolloProvider,{client,children:jsx(ChakraProvider,{theme,children:jsx(App,{})})})}),document.getElementById("root"));
